```
#include <stdio.h>
#include <string>
#include <string.h>
using namespace std;

int change(char val[])
{
	int len=strlen(val);//值的长度 
	int sum=0;
	for(int i=0;i<len;++i)
	{
		sum=sum*10+val[i]-'0';
	}
	return sum;
}
int main()
{
	int T;
	while(scanf("%d",&T)!=EOF)
	{
		for(int i=0;i<T;++i)
		{
		char a[100000];
		scanf("%s",a);
		string str=a;//原串 
		int m;
		scanf("%d",&m);
		for(int j=0;j<m;++j)
		{
			int len=str.size();
			char op[6];
			char val[7];
			scanf("%s%s",op,val);
			if(strcmp(op,"INSERT")==0)
			{
				str+=val[0];
			}
			else if(strcmp(op,"QUERY")==0)
			{
			int num=change(val);
			int dist=-1;//初始距离为不可达 
			//往前找
			if(num!=0)//若查找的值的游标最初为0，则不能向前找 
			{
				for(int k=num-1;k>=0;--k)
				{
					if(str[k]==str[num])	
					{
						dist=num-k;
						break;
					}					
				} 
			
			}
//				往后找 
			if(num!=len)//若查找的值的游标最初为字符串长度，则不能向前找 
			{
				for(int k=num+1;k<len;++k)
				{
					if(str[k]==str[num])
					{
						if(dist==-1)
						{
							dist=k-num;
						}
						else if(dist>k-num)
						{
							dist=k-num;
						}
						break;
					}
				}
			}
				printf("%d\n",dist);
			}
		}
		
		}
	}
	return 0;
}
```
